{"singlePage": [], "startSite": "", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "", "style": "", "head": "", "indexScript": "", "indexStyle": "", "bottomText": "", "showPostSource": 1, "iconList": {}, "UTC": 8, "rssSplit": "sentence", "exlink": {}, "needComment": 1, "allHead": "", "title": "Dorian's Blog", "subTitle": "\u8def\u6f2b\u6f2b\u5176\u4fee\u8fdc\u516e", "avatarUrl": "https://31842f9.webp.li/dorian-r2-image/fufu01.png", "GMEEK_VERSION": "last", "postListJson": {"P1": {"htmlDir": "docs/post/first page.html", "labels": ["Android"], "postTitle": "first page", "postUrl": "post/first%20page.html", "postSourceUrl": "https://github.com/fly48432/fly48432.github.io/issues/1", "commentNum": 0, "wordCount": 18, "description": "## Hello World \uff01\uff01\uff01\u3002", "top": 0, "createdAt": 1733834143, "style": "", "script": "", "head": "", "ogImage": "https://31842f9.webp.li/dorian-r2-image/fufu01.png", "createdDate": "2024-12-10", "dateLabelColor": "#bc4c00"}, "P2": {"htmlDir": "docs/post/Android -chang-yong- log.html", "labels": ["Android"], "postTitle": "Android \u5e38\u7528 log", "postUrl": "post/Android%20-chang-yong-%20log.html", "postSourceUrl": "https://github.com/fly48432/fly48432.github.io/issues/2", "commentNum": 0, "wordCount": 3226, "description": "## 1. \u5e38\u7528 dump\n``` shell\nadb shell dumpsys activity service com.android.systemui/.SystemUIService > SystemUIService.txt\n\n# nms dump\nadb shell dumpsys notification --noredact > notification.txt\n\nadb shell dumpsys SurfaceFlinger > SurfaceFlinger.txt\n\nadb shell dumpsys window > window.txt\n\nadb logcat -b events \n```\n\n## 2. adb  shell settings get\n\n\u53ef\u4ee5\u7528\u6765\u83b7\u53d6 Android \u8bbe\u5907\u4e0a\u7684**\u7cfb\u7edf\u8bbe\u7f6e\uff08\u914d\u7f6e\uff09**\u3002", "top": 0, "createdAt": 1739275693, "style": "", "script": "", "head": "", "ogImage": "https://31842f9.webp.li/dorian-r2-image/fufu01.png", "createdDate": "2025-02-11", "dateLabelColor": "#0969da"}, "P3": {"htmlDir": "docs/post/tong-zhi-da-zhi-liu-cheng.html", "labels": ["Android"], "postTitle": "\u901a\u77e5\u5927\u81f4\u6d41\u7a0b", "postUrl": "post/tong-zhi-da-zhi-liu-cheng.html", "postSourceUrl": "https://github.com/fly48432/fly48432.github.io/issues/3", "commentNum": 0, "wordCount": 2720, "description": "``` java\nNotificationManager.java    (framework)\n    | notify()\n    | notifyAsUser()\n        | service.enqueueNotificationWithTag( , , , , fixNotification (), )\n        \nNotificationManagerService.java    (framework)\n    | enqueueNotificationWithTag()\n    | enqueueNotificationInternal()\n    | enqueueNotificationInternal( , , )\n    | enqueueNotificationInternal( , , , , )\n        | fixNotification()\n        | StatusBarNotification    // SystemUI \u4f1a\u7528\n        | NotificationChannel\n        | NotificationRecord    // framework \u7528\n        | checkDisqualifyingFeatures()\n        | mHandler.post(new EnqueueNotificationRunnable(userId, r, isAppForeground, tracker));\n        \n    EnqueueNotificationRunnable implements Runnable\n        | enqueueNotification()\n        | PostNotificationRunnable\n    \n    PostNotificationRunnable\n        | postNotification()\n        | notifyListenersPostedAndLogLocked()\n        | prepareNotifyPostedLocked() --> NotificationListeners#prepareNotifyPostedLocked()\n        \n        \n        \n        \n        class NotificationListeners    (NotificationManagerService.java\u91cc)\n                // notifyRemoved\n                // This notification became invisible -> remove the old one.\n                if (oldSbnVisible && !sbnVisible) {\n                    final StatusBarNotification oldSbnLightClone = oldSbn.cloneLight();\n                    listenerCalls.add(() -> notifyRemoved(\n                            info, oldSbnLightClone, update, null, REASON_USER_STOPPED));\n                    continue;\n                }\n                // notifyPosted \n                final StatusBarNotification sbnToPost = trimCache.ForListener(info);\n                listenerCalls.add(() -> notifyPosted(info, sbnToPost, update));\n                \n                \n            private void notifyPosted(final ManagedServiceInfo info,\n                final StatusBarNotification sbn, NotificationRankingUpdate rankingUpdate) {\n                final INotificationListener listener = (INotificationListener) info.service;\n                StatusBarNotificationHolder sbnHolder = new StatusBarNotificationHolder(sbn);\n                try {\n                    listener.onNotificationPosted(sbnHolder, rankingUpdate);\n                } catch (android.os.DeadObjectException ex) {\n                    Slog.wtf(TAG, 'unable to notify listener (posted): ' + info, ex);\n                } catch (RemoteException ex) {\n                    Slog.e(TAG, 'unable to notify listener (posted): ' + info, ex);\n                }\n            }\n                \nNotificationListener.java  (SystemUI)\n    onNotificationPosted()\n\ninterface NotificationHandler \uff08\u662fNotificationListener.java \u5185\u90e8\u63a5\u53e3\uff09\n    onNotificationPosted()\n    \n```\u3002", "top": 0, "createdAt": 1751963853, "style": "", "script": "", "head": "", "ogImage": "https://31842f9.webp.li/dorian-r2-image/fufu01.png", "createdDate": "2025-07-08", "dateLabelColor": "#0969da"}, "P4": {"htmlDir": "docs/post/zi-sheng-yu-zhong-ran-\uff1a-xie-zai-yan-jiu-sheng-yi-han-he-\u201c-hao-zi-lao-shi-\u201d-zhi-hou.html", "labels": ["\u751f\u6d3b"], "postTitle": "\u81ea\u7701\u4e0e\u91cd\u71c3\uff1a\u5199\u5728\u7814\u7a76\u751f\u9057\u61be\u548c\u201c\u8017\u5b50\u8001\u5e08\u201d\u4e4b\u540e", "postUrl": "post/zi-sheng-yu-zhong-ran-%EF%BC%9A-xie-zai-yan-jiu-sheng-yi-han-he-%E2%80%9C-hao-zi-lao-shi-%E2%80%9D-zhi-hou.html", "postSourceUrl": "https://github.com/fly48432/fly48432.github.io/issues/4", "commentNum": 0, "wordCount": 517, "description": "### \u81ea\u7701\u4e0e\u91cd\u71c3\n\n\u5c0f\u7ec4\u6765\u4e86\u4e00\u4e9b\u5b9e\u4e60\u751f\uff0c\u81ea\u6211\u4ecb\u7ecd\u5230\u5b66\u6821\u65f6\uff0c\u53c8\u52fe\u8d77\u4e86\u6211\u5bf9\u4e8e\u7814\u7a76\u751f\u7684\u9057\u61be\u3002", "top": 0, "createdAt": 1752501343, "style": "", "script": "", "head": "", "ogImage": "https://31842f9.webp.li/dorian-r2-image/fufu01.png", "createdDate": "2025-07-14", "dateLabelColor": "#0969da"}}, "singeListJson": {}, "labelColorDict": {"Android": "#1c7ddf", "\u751f\u6d3b": "#aaaaaa"}, "displayTitle": "Dorian's Blog", "faviconUrl": "https://31842f9.webp.li/dorian-r2-image/fufu01.png", "ogImage": "https://31842f9.webp.li/dorian-r2-image/fufu01.png", "primerCSS": "<link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />", "homeUrl": "https://fly48432.github.io", "prevUrl": "disabled", "nextUrl": "disabled"}